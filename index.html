<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Визуализатор различных функций ошибок для задачи обнаружения объектов на изображении</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body oncontextmenu="return false;">
    <div class="visualizer">
        <div class="visualizer-image">
            <canvas id="canvas">
        </div>

        <div class="visualizer-metric">
            <div class="controls">
                <label>Изображение: <select id="image-controls"></select></label><br>
                <label>Порог тёмных пикселей: <input type="number" step="1" min="1" max="255" value="128" id="threshold-controls"></label><br>
                <label>Рисовать области для:
                    <select id="visualize-loss-areas">
                        <option value='none' selected>не визуализировать</option>
                        <option value='iou'>IoU</option>
                        <option value='piou'>PIoU</option>
                        <option value='bwiou'>BWIoU</option>
                        <option value='weighted-bwiou'>weighted BWIoU</option>
                        <option value='iou×piou'>IoU × PIoU</option>
                        <option value='iou×bwiou'>IoU × BWIoU</option>
                        <option value='iou×weighted-bwiou'>IoU × weighted BWIoU</option>
                    </select>
                </label>
                <hr>
            </div>
            <div id="metrics"></div>
        </div>
    </div>

    <script src="js/constants.js"></script>
    <script src="js/bbox.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/events.js"></script>
    <script src="js/draw.js"></script>

    <script>
        let images = ['images/im4.jpg', 'images/im7.jpg', 'images/im23.jpg', 'images/im24.jpg', 'images/im54.jpg', 'images/im94.jpg']
        let visualizer = new Visualizer('canvas', images, 'metrics', 'image-controls', 'threshold-controls', 'visualize-loss-areas')

        setInterval(() => visualizer.Draw(), 10)
    </script>
</body>
</html>