<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Визуализатор различных функций ошибок для задачи обнаружения объектов на изображении</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body oncontextmenu="return false;">
    <div class="visualizer">
        <div class="visualizer-image" oncontextmenu="return false;">
            <canvas id="canvas">
        </div>

        <div class="visualizer-metric">
            <div class="controls">
                <label>Изображение: <select id="image-controls"></select></label><br>
                <label>Порог тёмных пикселей: <input type="number" step="1" min="1" max="255" value="128" id="threshold-controls"></label><br>
                <label>Тип IoU:
                    <select id="iou-box">
                        <option value="IoU" selected>IoU</option>
                        <option value="DIoU">DIoU</option>
                        <option value="CIoU">CIoU</option>
                        <option value="GIoU">GIoU</option>
                    </select><br>
                </label>
                <label>Рисовать области для:
                    <select id="visualize-loss-areas">
                        <option value='none' selected>не визуализировать</option>
                        <option value='IoU'>IoU</option>
                        <option value='PIoU'>PIoU</option>
                        <option value='BWIoU'>BWIoU</option>
                        <option value='Weighted BWIoU'>Weighted BWIoU</option>
                        <option value='PIoU (champion)'>PIoU (champion)</option>
                        <option value='BWIoU (champion)'>BWIoU (champion)</option>
                        <option value='Weighted BWIoU (champion)'>Weighted BWIoU (champion)</option>
                    </select>
                </label><br>
                <button id="optimize-btn">Запустить</button>
                <hr>
            </div>
            <div id="metrics"></div>
            <br>
            <canvas id="losses-box"></canvas>
        </div>
    </div>

    <script src="js/constants.js"></script>
    <script src="js/bbox.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/events.js"></script>
    <script src="js/draw.js"></script>
    <script src="js/graph.js"></script>
    <script src="js/graph_iou.js"></script>
    <script src="js/metrics.js"></script>

    <script>
        let images = ['images/im4.jpg', 'images/im7.jpg', 'images/im23.jpg', 'images/im24.jpg', 'images/im54.jpg', 'images/im94.jpg']
        let visualizer = new Visualizer('canvas', images)

        setInterval(() => visualizer.Draw(), 10)
    </script>
</body>
</html>